!function(){function a(a,b){for(var c in a){var d=a[c],e=this.input.getAttribute("data-"+c.toLowerCase());this[c]="number"==typeof d?parseInt(e):d===!1?null!==e:d instanceof Function?null:e,this[c]||0===this[c]||(this[c]=c in b?b[c]:d)}}function b(a,b){return"string"==typeof a?(b||document).querySelector(a):a||null}function c(a,b){return f.call((b||document).querySelectorAll(a))}function d(){c("input.awesomplete").forEach(function(a){new Awesomplete(a)})}var e=function(c,d){var f=this;this.input=b(c),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-autocomplete","list"),d=d||{},a.call(this,{minChars:2,maxItems:10,autoFirst:!1,filter:e.FILTER_CONTAINS,sort:e.SORT_BYLENGTH,item:function(a,c){return b.create("li",{innerHTML:a.replace(RegExp(b.regExpEscape(c.trim()),"gi"),"<mark>$&</mark>"),"aria-selected":"false"})},replace:function(a){this.input.value=a}},d),this.index=-1,this.container=b.create("div",{className:"awesomplete",around:c}),this.ul=b.create("ul",{hidden:"",inside:this.container}),this.status=b.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),b.bind(this.input,{input:this.evaluate.bind(this),blur:this.close.bind(this),keydown:function(a){var b=a.keyCode;f.opened&&(13===b&&f.selected?(a.preventDefault(),f.select()):27===b?f.close():(38===b||40===b)&&(a.preventDefault(),f[38===b?"previous":"next"]()))}}),b.bind(this.input.form,{submit:this.close.bind(this)}),b.bind(this.ul,{mousedown:function(a){var b=a.target;if(b!==this){for(;b&&!/li/i.test(b.nodeName);)b=b.parentNode;b&&f.select(b)}}}),this.input.hasAttribute("list")?(this.list="#"+c.getAttribute("list"),c.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||d.list||[],e.all.push(this)};e.prototype={set list(a){Array.isArray(a)?this._list=a:"string"==typeof a&&a.indexOf(",")>-1?this._list=a.split(/\s*,\s*/):(a=b(a),a&&a.children&&(this._list=f.apply(a.children).map(function(a){return a.innerHTML.trim()}))),document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return this.ul&&null==this.ul.getAttribute("hidden")},close:function(){this.ul.setAttribute("hidden",""),this.index=-1,b.fire(this.input,"awesomplete-close")},open:function(){this.ul.removeAttribute("hidden"),this.autoFirst&&-1===this.index&&this["goto"](0),b.fire(this.input,"awesomplete-open")},next:function(){var a=this.ul.children.length;this["goto"](this.index<a-1?this.index+1:-1)},previous:function(){var a=this.ul.children.length;this["goto"](this.selected?this.index-1:a-1)},"goto":function(a){var c=this.ul.children;this.selected&&c[this.index].setAttribute("aria-selected","false"),this.index=a,a>-1&&c.length>0&&(c[a].setAttribute("aria-selected","true"),this.status.textContent=c[a].textContent),b.fire(this.input,"awesomplete-highlight")},select:function(a){if(a=a||this.ul.children[this.index]){var c;b.fire(this.input,"awesomplete-select",{text:a.textContent,preventDefault:function(){c=!0}}),c||(this.replace(a.textContent),this.close(),b.fire(this.input,"awesomplete-selectcomplete"))}},evaluate:function(){var a=this,b=this.input.value;b.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this._list.filter(function(c){return a.filter(c,b)}).sort(this.sort).every(function(c,d){return a.ul.appendChild(a.item(c,b)),d<a.maxItems-1}),0===this.ul.children.length?this.close():this.open()):this.close()}},e.all=[],e.FILTER_CONTAINS=function(a,c){return RegExp(b.regExpEscape(c.trim()),"i").test(a)},e.FILTER_STARTSWITH=function(a,c){return RegExp("^"+b.regExpEscape(c.trim()),"i").test(a)},e.SORT_BYLENGTH=function(a,b){return a.length!==b.length?a.length-b.length:b>a?-1:1};var f=Array.prototype.slice;return b.create=function(a,c){var d=document.createElement(a);for(var e in c){var f=c[e];if("inside"===e)b(f).appendChild(d);else if("around"===e){var g=b(f);g.parentNode.insertBefore(d,g),d.appendChild(g)}else e in d?d[e]=f:d.setAttribute(e,f)}return d},b.bind=function(a,b){if(a)for(var c in b){var d=b[c];c.split(/\s+/).forEach(function(b){a.addEventListener(b,d)})}},b.fire=function(a,b,c){var d=document.createEvent("HTMLEvents");d.initEvent(b,!0,!0);for(var e in c)d[e]=c[e];a.dispatchEvent(d)},b.regExpEscape=function(a){return a.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},"undefined"!=typeof Document&&("loading"!==document.readyState?d():document.addEventListener("DOMContentLoaded",d)),e.$=b,e.$$=c,"undefined"!=typeof self&&(self.Awesomplete=e),"object"==typeof exports&&(module.exports=e),e}();